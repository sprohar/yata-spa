<div class="flex full-height">
  <div class="card flex-centered mat-elevation-z8">
    <yata-logo></yata-logo>
    <div class="form-container flex-column row-gap-1 p-1">
      <h1>Sign up</h1>

      <form [formGroup]="form" (ngSubmit)="handleSignUp()">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email</mat-label>
          <input id="email" matInput type="email" formControlName="email" />
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Password</mat-label>
          <input
            id="password"
            matInput
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
          />
          <mat-hint>
            Password must be at least {{ passwordMinLength }} characters long.
          </mat-hint>
        </mat-form-field>

        <p *ngIf="errorService.error$ | async as error" class="error">
          {{ error }}
        </p>

        <div class="show-password-checkbox-container">
          <label>
            <input type="checkbox" (change)="togglePasswordVisibility()" />
            {{ showPassword ? "Hide" : "Show" }} password
          </label>
        </div>

        <div class="full-width">
          <button
            type="submit"
            [disabled]="form.invalid"
            mat-raised-button
            class="full-width"
            color="primary"
          >
            Create account
          </button>
        </div>
      </form>

      <div class="flex align-items-center">
        <div class="horizontal-line"></div>
        <span class="mx-1">OR</span>
        <div class="horizontal-line"></div>
      </div>

      <div class="flex-column row-gap-1">
        <yata-google-login-button></yata-google-login-button>
      </div>

      <div class="mt-1">
        <p>
          <span> Already have an account? </span>
          <a routerLink="/auth/sign-in" class="link">Sign in</a>
        </p>
      </div>
    </div>
  </div>
</div>
